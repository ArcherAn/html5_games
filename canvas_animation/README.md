## **canvas中使用Animate动画** ##
**如图：**

![](http://i.imgur.com/s5R1C92.png)


**1、**本程序中主要是使用了**requestAnimationFrame()**方法让浏览器自行决定帧速率，同时为了考虑各种浏览器下对**animate()**函数的兼容性不同，综合解决问题，将代码封装在**window.requestNextAnimationFrame()**方法中去。

**2、**程序中同时还是用了一个简单的等式，根据当前帧距离上一帧的时间，计算出每秒钟播放的帧数（帧速率，简称 fps）

具体代码实现如 **animation_test.html** 和 **requestNextAnimationFrame.js**

## **canvas中实现视差动画** ##
**如图：**

![](http://i.imgur.com/Nht3KCm.png)

在本程序中，先计算出绘制四个图层时需要对坐标系进行平移的距离，然后保存绘图环境对象的状态，平移坐标原点，并将每个图层之中的物体绘制出来，最后再恢复绘图环境对象。这个“保存状态、平移坐标系、绘制物体、恢复状态”的流程可以免去计算物体坐标的麻烦，不管图层在当前这一帧滚动至何处，我们都只需将各个物体画在相同的坐标点上即可。由于坐标系在各帧之间发生了平移，所以画出来的图像看上去好像正在移动。